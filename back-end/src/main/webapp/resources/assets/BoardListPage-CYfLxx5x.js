import{b as v}from"./boardApi-DIdKxdX5.js";import{h as x}from"./moment-C5S46NFB.js";import{l as C,u as k,b as V,c as E,r as I,m as R,i as h,o as u,d as i,e as t,t as l,F as f,p as Y,j as c,k as s,q as d,g as p}from"./index-I6TbVDK2.js";import"./index-CFW9R_hc.js";const B=t("h1",{class:"mb-3"},[t("i",{class:"fa-solid fa-paste"}),p(" 게시글 목록")],-1),D={class:"mt-5 text-end"},L={class:"table table-striped"},N=t("thead",null,[t("tr",null,[t("th",{style:{width:"60px"}},"No"),t("th",null,"제목"),t("th",{style:{width:"100px"}},"작성자"),t("th",{style:{width:"120px"}},"작성일")])],-1),A={class:"my-5 d-flex"},P={class:"flex-grow-1 text-center"},T=t("i",{class:"fa-solid fa-backward-fast"},null,-1),U=t("i",{class:"fa-solid fa-caret-left"},null,-1),F=t("i",{class:"fa-solid fa-caret-right"},null,-1),M=t("i",{class:"fa-solid fa-forward-fast"},null,-1),Q=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),W={__name:"BoardListPage",setup(S){const e=C(),y=k(),r=V({totalCount:0}),b=E(()=>r.value.list),a=I({page:parseInt(e.query.page)||1,amount:parseInt(e.query.amount)||10});console.log("QUERY",e.query),console.log("PAGE REQUEST",a);const w=async n=>{console.log("CLICK,,,,"),y.push({query:{page:n,amount:a.amount}})};R(e,async n=>{console.log("WATCH",e.query.page),a.page=parseInt(e.query.page),a.amount=parseInt(e.query.amount),await m(a)});const m=async n=>{try{r.value=await v.getList(n)}catch{}};return m(a),(n,_)=>{const g=h("router-link"),q=h("vue-awesome-paginate");return u(),i(f,null,[B,t("div",D,"(총 "+l(r.value.totalCount)+"건)",1),t("table",L,[N,t("tbody",null,[(u(!0),i(f,null,Y(b.value,o=>(u(),i("tr",{key:o.no},[t("td",null,l(o.no),1),t("td",null,[c(g,{to:{name:"board/detail",params:{no:o.no},query:d(e).query}},{default:s(()=>[p(l(o.title),1)]),_:2},1032,["to"])]),t("td",null,l(o.writer),1),t("td",null,l(d(x)(o.regDate).format("YYYY-MM-DD")),1)]))),128))])]),t("div",A,[t("div",P,[c(q,{"total-items":r.value.totalCount,"items-per-page":a.amount,"max-pages-shown":5,"show-ending-buttons":!0,modelValue:a.page,"onUpdate:modelValue":_[0]||(_[0]=o=>a.page=o),onClick:w},{"first-page-button":s(()=>[T]),"prev-button":s(()=>[U]),"next-button":s(()=>[F]),"last-page-button":s(()=>[M]),_:1},8,["total-items","items-per-page","modelValue"])]),t("div",null,[c(g,{to:{name:"board/create",query:d(e).query},class:"btn btn-primary"},{default:s(()=>[Q,p(" 글 작성")]),_:1},8,["to"])])])],64)}}};export{W as default};
