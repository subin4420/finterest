import{y as i,a as s,z as n}from"./index-I6TbVDK2.js";const o=i.create({timeout:1e3});o.interceptors.request.use(e=>{const{getToken:r}=s(),t=r();return t&&(e.headers.Authorization=`Bearer ${t}`,console.log(e.headers.Authorization)),e},e=>(console.log(e),Promise.reject(e)));o.interceptors.response.use(e=>e.status===200?e:e.status===404?Promise.reject("404: 페이지 없음 "+e.request):e,async e=>{var r,t;if(((r=e.response)==null?void 0:r.status)===401){const{logout:u}=s();return u(),n.push("/auth/login?error=loing_required"),Promise.reject({error:"로그인이 필요한 서비스입니다."})}else if(((t=e.response)==null?void 0:t.status)===403)return Promise.reject({error:"권한이 부족합니다."});return Promise.reject(e)});export{o as i};
